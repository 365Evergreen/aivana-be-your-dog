/* Global styles for the app */
body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: #f4f6fa;
  color: #222;
}

/* Fluent-like tokens and utilities (lightweight) */
:root{
  --fluent-bg:#ffffff;
  --fluent-muted:#666666;
  --fluent-primary:#0063b1;
  --fluent-surface:#f3f2f1;
  --fluent-border:#e1dfdd;
  --fluent-radius:6px;
}

/* Buttons */
.app-btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:var(--fluent-radius);
  border:1px solid transparent;
  cursor:pointer;
  font-weight:600;
  font-size:14px;
  transition:background .12s ease, color .12s ease, border-color .12s ease, box-shadow .12s ease;
  background:var(--fluent-surface);
  color:var(--fluent-primary);
}
.app-btn-primary{
  background:var(--fluent-primary);
  color:var(--fluent-bg);
  border-color:transparent;
}
.app-btn-plain{
  background:transparent;
  color:var(--fluent-primary);
  border-color:transparent;
}
.app-btn:hover{box-shadow:0 2px 8px rgba(0,0,0,0.06)}

/* Fluent UI button base class support (for PrimaryButton / DefaultButton) */
.ms-Button.app-btn, .ms-Button.app-btn-primary, .ms-Button.app-btn-plain {
  padding:0; /* inner padding handled by .app-btn wrapper */
}

/* Icon slot inside buttons */
.btn-icon{display:inline-flex;align-items:center;justify-content:center}
.btn-icon svg{width:16px;height:16px;display:inline-block;vertical-align:middle}
.btn-icon svg path{fill:currentColor}
.btn-text{display:inline-block}

/* Sidebar tweaks */
.sidebar-menu{
  width:220px;
  background:var(--fluent-bg);
  border-right:1px solid var(--fluent-border);
  padding:16px;
  box-sizing:border-box;
  height:100vh;
}
.sidebar-user{margin-bottom:12px}
.avatar{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#e1e1e1,#cfcfcf)}
.avatar.small{width:32px;height:32px}
.sign-in-status{display:flex;gap:8px;align-items:center}
.signin-info .name{font-weight:600}

.sidebar-menu ul{list-style:none;padding:0;margin:12px 0}
.sidebar-menu li{margin:8px 0}
.sidebar-menu a{display:flex;gap:8px;align-items:center;color:var(--fluent-muted);text-decoration:none;padding:8px;border-radius:4px}
.sidebar-menu a:hover{background:var(--fluent-surface);color:var(--fluent-primary)}

/* Compact mode tweaks */
.dashboard-root.compact .sidebar-menu{width:72px;padding:8px}
.dashboard-root.compact .sidebar-menu .ms-Nav-linkText{display:none}
.dashboard-root.compact .main-content{margin-left:72px}

/* Modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(16,18,20,0.4);display:flex;align-items:center;justify-content:center}
.modal{background:var(--fluent-bg);border-radius:var(--fluent-radius);box-shadow:0 8px 24px rgba(0,0,0,0.12);overflow:hidden}

/* Switch control (very small) */
.switch{position:relative;display:inline-block;width:40px;height:20px}
.switch input{display:none}
.switch .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#ccc;border-radius:20px;transition:.2s}
.switch .slider:before{content:'';position:absolute;height:16px;width:16px;left:2px;top:2px;background:white;border-radius:50%;transition:.2s}
.switch input:checked + .slider{background:var(--fluent-primary)}
.switch input:checked + .slider:before{transform:translateX(20px)}

/* Small helpers */
.btn-primary:focus,.btn-link:focus{outline:2px solid rgba(0,99,177,0.2)}
.ml-8{margin-left:8px}

/* Floating Copilot FAB */
.copilot-fab{position:fixed;bottom:32px;right:32px;width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;z-index:1000}
.bot-dialog .close-button, .modal .close-button{background:transparent;border:none;font-size:20px;cursor:pointer;color:var(--fluent-muted)}

/* Admin Pages buttons */
.create-page-button{margin-left:8px}
.save-button{background:var(--fluent-primary);color:var(--fluent-bg)}
.cancel-button{background:transparent;border:1px solid var(--fluent-border);}
.view-button, .edit-button, .delete-button{margin-right:8px}
.delete-button{background:transparent;color:#d23f3f;border:1px solid transparent}
.view-button{background:transparent;border:1px solid var(--fluent-border)}

/* Theme toggle button (top-right) */
.theme-toggle{position:fixed;top:12px;right:12px;z-index:1200;width:40px;height:40px;border-radius:8px;background:transparent;display:inline-flex;align-items:center;justify-content:center}
.theme-toggle .btn-icon{width:18px;height:18px}

/* Responsive & collapsible sidebar styles */
.sidebar-menu{
  position:fixed;
  left:0;
  top:0;
  bottom:0;
  width:240px;
  transition:width .18s ease, transform .18s ease;
  z-index:100;
}
.sidebar-menu.collapsed{width:64px}
.sidebar-menu .nav-text{display:inline-block;transition:opacity .15s ease;margin-left:8px}
.sidebar-menu.collapsed .nav-text{opacity:0;height:0;width:0;overflow:hidden}
.sidebar-links{padding:8px 0;margin:0}
.sidebar-links .nav-link{padding:10px 8px}
.sidebar-top{display:flex;align-items:center;justify-content:space-between}
.collapse-toggle{background:transparent;border:0;padding:6px;border-radius:6px;cursor:pointer}
.sidebar-footer{position:absolute;bottom:16px;left:16px;right:16px}

/* Mobile behavior: hide sidebar by default and provide hamburger */
@media (max-width:639px){
  .sidebar-menu{transform:translateX(-110%);box-shadow:0 8px 24px rgba(0,0,0,0.24);}
  .sidebar-menu.mobile-open{transform:translateX(0)}
  .sidebar-hamburger{position:fixed;left:12px;top:12px;z-index:120;background:#fff;border:0;padding:8px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.08);}
  .sidebar-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.35);z-index:110}
}

/* Ensure main content offset when sidebar present */
@media (min-width:640px){
  .main-content{margin-left:240px}
  .sidebar-menu.collapsed + .main-content, .dashboard-root.compact .main-content{margin-left:72px}
}

/* Focus indicators and transition polish */
.sidebar-menu .nav-link:focus { outline: 2px solid rgba(0,99,177,0.18); background: var(--fluent-surface); color: var(--fluent-primary); }
.collapse-toggle:focus { outline: 2px solid rgba(0,99,177,0.18); }
.sidebar-menu, .main-content { transition: margin-left .18s ease, width .18s ease, transform .18s ease; }

/* Dark theme variables */
:root[data-theme='dark']{
  --fluent-bg:#1b1b1d;
  --fluent-muted:#bfbfbf;
  --fluent-primary:#2b88d8;
  --fluent-surface:#2b2b2d;
  --fluent-border:#333337;
}
.theme-dark body, :root.theme-dark body { background: #121212; color: #e6e6e6; }

/* Ensure app buttons adapt to dark theme using variables */
:root[data-theme='dark'] .app-btn{ background:var(--fluent-surface); color:var(--fluent-muted); }
:root[data-theme='dark'] .app-btn-primary{ background:var(--fluent-primary); color:var(--fluent-bg); }
:root[data-theme='dark'] .app-btn-plain{ color:var(--fluent-primary); background:transparent }

